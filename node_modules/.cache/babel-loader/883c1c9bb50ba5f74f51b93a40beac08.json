{"remainingRequest":"G:\\thangpn\\BE1\\vue-firebase-auth-master\\vue-firebase-auth-master\\node_modules\\babel-loader\\lib\\index.js!G:\\thangpn\\BE1\\vue-firebase-auth-master\\vue-firebase-auth-master\\src\\http-common.js","dependencies":[{"path":"G:\\thangpn\\BE1\\vue-firebase-auth-master\\vue-firebase-auth-master\\src\\http-common.js","mtime":1616753798944},{"path":"G:\\thangpn\\BE1\\vue-firebase-auth-master\\vue-firebase-auth-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\thangpn\\BE1\\vue-firebase-auth-master\\vue-firebase-auth-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import axios from \"axios\";\nimport authHeader from \"@/services/AuthenticationHeader\";\nvar apiClient = axios.create({\n  headers: {\n    \"Content-type\": \"application/json\"\n  }\n}); //thông tin trước khi gọi api\n\napiClient.interceptors.request.use(function (config) {\n  // Do something before request is sent\n  var authKey = authHeader(); // let domainDB = localStorage.getItem('domain');\n\n  if (authKey != null) {\n    config.baseURL = \"http://localhost\" + \":9999/web/\"; // config.baseURL = \"https://api.onekids.edu.vn\" + \"/web/\";\n\n    config.headers[\"Authorization\"] = authKey.Authorization;\n    return config;\n  }\n}); //thông tin trả về sau khi gọi api\n\napiClient.interceptors.response.use(function (response) {\n  alert(\"1\"); //check theo apptpe ứng với http\n  // let appType= JSON.parse(localStorage.getItem(\"user\")).appType;\n  // if(appType=='parent'){\n  //   localStorage.removeItem(\"user\")\n  //   alert(\"Tính năng giành cho phụ huynh đang được phát triển\")\n  // }else if(appType=='teacher'){\n  //   localStorage.removeItem(\"user\")\n  //   alert(\"Tính năng giành cho giáo viên đang được phát triển\")\n  // }\n\n  return response;\n}, function (error) {\n  alert(\"2\");\n  var status = error.response.status; //lỗi xác thực, xóa token=>quay về trang login\n\n  if (status == 401) {\n    // alert(\"Thông tin tài khoản đã được thay đổi\")\n    localStorage.removeItem(\"user\");\n  }\n\n  throw error;\n});\nexport default apiClient;",{"version":3,"sources":["G:\\thangpn\\BE1\\vue-firebase-auth-master\\vue-firebase-auth-master\\src\\http-common.js"],"names":["axios","authHeader","apiClient","create","headers","interceptors","request","use","config","authKey","baseURL","Authorization","response","alert","error","status","localStorage","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,iCAAvB;AAEA,IAAMC,SAAS,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC7BC,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT;AADoB,CAAb,CAAlB,C,CAKA;;AACAF,SAAS,CAACG,YAAV,CAAuBC,OAAvB,CAA+BC,GAA/B,CAAmC,UAASC,MAAT,EAAiB;AAClD;AACA,MAAIC,OAAO,GAAGR,UAAU,EAAxB,CAFkD,CAGlD;;AACA,MAAIQ,OAAO,IAAI,IAAf,EAAqB;AACnBD,IAAAA,MAAM,CAACE,OAAP,GAAiB,qBAAqB,YAAtC,CADmB,CAEnB;;AACAF,IAAAA,MAAM,CAACJ,OAAP,CAAe,eAAf,IAAkCK,OAAO,CAACE,aAA1C;AACA,WAAOH,MAAP;AACD;AACF,CAVD,E,CAYA;;AACAN,SAAS,CAACG,YAAV,CAAuBO,QAAvB,CAAgCL,GAAhC,CACE,UAASK,QAAT,EAAmB;AACjBC,EAAAA,KAAK,CAAC,GAAD,CAAL,CADiB,CAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAOD,QAAP;AACD,CAbH,EAcE,UAASE,KAAT,EAAgB;AACdD,EAAAA,KAAK,CAAC,GAAD,CAAL;AACA,MAAIE,MAAM,GAAGD,KAAK,CAACF,QAAN,CAAeG,MAA5B,CAFc,CAGd;;AACA,MAAIA,MAAM,IAAI,GAAd,EAAmB;AACjB;AACAC,IAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACD;;AACD,QAAMH,KAAN;AACD,CAvBH;AA0BA,eAAeZ,SAAf","sourcesContent":["import axios from \"axios\";\r\nimport authHeader from \"@/services/AuthenticationHeader\";\r\n\r\nconst apiClient = axios.create({\r\n  headers: {\r\n    \"Content-type\": \"application/json\",\r\n  },\r\n});\r\n//thông tin trước khi gọi api\r\napiClient.interceptors.request.use(function(config) {\r\n  // Do something before request is sent\r\n  let authKey = authHeader();\r\n  // let domainDB = localStorage.getItem('domain');\r\n  if (authKey != null) {\r\n    config.baseURL = \"http://localhost\" + \":9999/web/\";\r\n    // config.baseURL = \"https://api.onekids.edu.vn\" + \"/web/\";\r\n    config.headers[\"Authorization\"] = authKey.Authorization;\r\n    return config;\r\n  }\r\n});\r\n\r\n//thông tin trả về sau khi gọi api\r\napiClient.interceptors.response.use(\r\n  function(response) {\r\n    alert(\"1\");\r\n    //check theo apptpe ứng với http\r\n    // let appType= JSON.parse(localStorage.getItem(\"user\")).appType;\r\n    // if(appType=='parent'){\r\n    //   localStorage.removeItem(\"user\")\r\n    //   alert(\"Tính năng giành cho phụ huynh đang được phát triển\")\r\n    // }else if(appType=='teacher'){\r\n    //   localStorage.removeItem(\"user\")\r\n    //   alert(\"Tính năng giành cho giáo viên đang được phát triển\")\r\n    // }\r\n    return response;\r\n  },\r\n  function(error) {\r\n    alert(\"2\");\r\n    let status = error.response.status;\r\n    //lỗi xác thực, xóa token=>quay về trang login\r\n    if (status == 401) {\r\n      // alert(\"Thông tin tài khoản đã được thay đổi\")\r\n      localStorage.removeItem(\"user\");\r\n    }\r\n    throw error;\r\n  }\r\n);\r\n\r\nexport default apiClient;\r\n"]}]}